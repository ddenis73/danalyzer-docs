
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Dan Denis">
      
      
        <link rel="canonical" href="https://github.com/ddenis73/danalyzer-docs/matlab-control-statements/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>Control statements - danalyzer documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-purple">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#control-statements" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="danalyzer documentation" class="md-header__button md-logo" aria-label="danalyzer documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            danalyzer documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Control statements
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ddenis73/danalyzer-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ddenis73/danalyzer-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="danalyzer documentation" class="md-nav__button md-logo" aria-label="danalyzer documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    danalyzer documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ddenis73/danalyzer-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ddenis73/danalyzer-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gui-tutorial/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        GUI
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="GUI" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          GUI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-load-data/" class="md-nav__link">
        Loading data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-data-browser/" class="md-nav__link">
        Data browsing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-sleep-scoring/" class="md-nav__link">
        Sleep scoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-sleep-statistics/" class="md-nav__link">
        Sleep statistics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-reliability/" class="md-nav__link">
        Sleep scorer reliability
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-artifact-rejection.md" class="md-nav__link">
        Artifact rejection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-segment-marker.md" class="md-nav__link">
        Marking segments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-event-marker.md" class="md-nav__link">
        Custom notations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-channel-properties.md" class="md-nav__link">
        Channel properties
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-subset-data.md" class="md-nav__link">
        Subsetting data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-save-data.md" class="md-nav__link">
        Saving data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-montage/" class="md-nav__link">
        Montage creation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-file-formats/" class="md-nav__link">
        File format information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-import-export.md" class="md-nav__link">
        Import/export different file types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-command-window.md" class="md-nav__link">
        Calling danalyzer from command window
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#if-then-statements" class="md-nav__link">
    If-then statements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-loop-statements" class="md-nav__link">
    For-loop statements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#while-statements" class="md-nav__link">
    While statements
  </a>
  
    <nav class="md-nav" aria-label="While statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid-loops-whenever-possible" class="md-nav__link">
    Avoid loops whenever possible
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try-catch-statements" class="md-nav__link">
    Try-catch statements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-case-statements" class="md-nav__link">
    Switch-case statements
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ddenis73/danalyzer-docs/edit/master/docs/matlab-control-statements.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="control-statements">Control statements</h1>
<p>Control statements are an important part of MATLAB programming that you will use frequently when you are analyzing data. They essentially give you more flexible control over when and how code evaluates. There are only a few control statements, but it very important to have a good handle on how they work. All control statements follow the same basic anatomy:</p>
<pre><code>&lt;controltype&gt;&lt;conditional&gt;
    &lt;content&gt;
    &lt;alternatives&gt;
end
</code></pre>
<h2 id="if-then-statements">If-then statements</h2>
<p>Sometimes just called if statements, these are probably the easiest to understand of all the control statements. <em>if</em> this is the case, <em>then</em> do this:</p>
<pre><code class="language-matlab">
if 2 &gt; 1
    disp('Big numbers are the best')
end
</code></pre>
<p>In an if statement, the conditional must return a single logical variable (i.e. true or false). If it does not, MATLAB will throw an error or <em>attempt</em> to inperpret the output of the statement as a logical. If the logical returns true, the <em>then</em> part of the statement (all the code between if and end) will be executed. if the logical returns false, no code will be run.</p>
<p>It is common practice to indent code that falls between if and end. If you highlight your code and press CTRL + I, MATLAB will automatically format this for you.</p>
<p>The above example only had one route to follow (is 2 greater than 1). You can add more alternative options using <em>elseif</em> and <em>else</em>:</p>
<pre><code class="language-matlab">
n = randn; % Randomly generate a single number

if n &gt; 0
    disp('n is greater than 0')
elseif n &gt; 2
    disp('n is greater than 2')
elseif n &lt; 0 &amp;&amp; n &gt; -5
    disp('n is quite small')
else
    dip('n is very small')
end

</code></pre>
<p>The first statement tests whether n is greater than 0. If it is, it will print the statement 'n is greater than 0'. So what if n isn't greater than zero. Then, MATLAB will evaluate each elseif statement <strong>in order</strong>. This is very important, and also means that the code that is evaluated after the first elseif statement will never be evaluated. As soon as any of the if, elseif statements is evaulated true, the rest of the statements are always ignored. Because if n &gt; 2, it will always be true at n &gt; 0.</p>
<p>Let's take a look at the second <em>elseif</em> statement. This illurates that the conditional statement can have multiple elements. If you remember back to logical indexing, we used the <em>&amp;</em> and <em>|</em> symbols for and and or operations. We can use the same here, except whenever we are evaulating a conditional statement, we need to use <em>&amp;&amp;</em> or <em>||</em>. We can string as many and or or statements as we want. As long as it evaluates to a single logical variable, MATLAB will be happy.</p>
<p>Finally we get the the <em>else</em> statement. An else statement just be for the <em>end</em> will capture anything that does not agree with any of the other statements. As such, you don't give an <em>else</em> statement any conditional to evaluate.</p>
<p>As well as logical operations, there are many functions you can use that return a logical variable that can be used as conditionals in an if-then statement:</p>
<pre><code class="language-matlab">
n = [];

if isempty(n)
    disp('n is empty')
elseif ~isempty(n)
    if n &gt; (str2num(n))
        disp('n is greater than 0')
    else
        disp('n is not greater than 0')
    end
end

</code></pre>
<p>The funciton is empty returns true if the input variable is empty. Remember, if statements only evaluate if the conditional is true. So what if we wanted to do something if the variable <em>is not</em> empry. MATLAB recognises the ~ symbol to mean not, so placing it in front of the function means, in this case that <em>~isempty</em> translates as is-not-empty. This piece of code also illusrates how you can next multiple if-then statements within each other.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>How else could you write the second conditional, instead of elseif ~isempty(n)?</p>
</div>
<h2 id="for-loop-statements">For-loop statements</h2>
<p>Along with if statements, for-loops are the control statement you are going to be using the most. A for-loop is used to evaluate a piece of code over multiple iterations:</p>
<pre><code class="language-matlab">
for i = 1:10
    disp(num2str(i))
end

</code></pre>
<p>Here, the variable <em>i</em> is called the "looping variable", and it goes from 1 - 10 in integer steps. for loops iterate as many times as there are elements in the looping variable. The looping variable can be whatever you wish, it does not have to start at 1, and it does not need to be in integers. However, this is setup is useful as it is very common to use the looping variable within a for loop to index into matrices (and other variable types). For example:</p>
<pre><code class="language-matlab">
a = 2:2:10;

for i = 1:length(a)

    b(i) = a(i);

end

</code></pre>
<p>This for loop will loop a number of times = to the length of a. This is a very common setup for for loops. On each iteration of i, we will use the i to index into the ith position of a, and then assign that value to the ith position of b. </p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>What would happen if you wrote b = a(i); instead of b(i) = a(i)?</p>
</div>
<p>When you have this code in the editor you will notice matlab is giving us a warning message. If we hover over the squiggly orange line MATLAB tells us "The variable 'b' appears to change size on every loop iteration (within a script). Consider preallocating for speed". </p>
<p>In our for loop, we are incrementally increasing the size of the variable b on each iteration. This can cause issues with memory use and processing speed, because MATLAB will need to spend longer sorting out information in memory. Preallocating can improve evaluation time by "reserving" the maximum amount of space for the variable ahead of time. To preallocate (or initialize) a variable, you just create the variable before the loop, setting it to be the size that the variable will be at the end of the loop. Not only does this make MATLAB more efficient, it forces you think more carefully about the expected output of your code ahead of time. For numeric variables, common ways to initialize a variable is to fill the variable with all zeros, or all NaN (not a number):</p>
<pre><code class="language-matlab">
a = 2:2:10;
b = zeros(1, 5); % Initialize with all zeros
b = nan(1, 5); % Initialize with all NaN

for i = 1:length(a)

    b(i) = a(i);

end

</code></pre>
<p>When writing data analysis scripts, if statements and for loops are going to be used frequently. Here are some general pieces of advice:</p>
<ul>
<li><strong>Avoid</strong> using loops and if statements whenever possible. They are a great source of frustration and error, especially when there are multiple nested statements spanning hundreds of line. For loops are also slow. There are many cases where a for loop could be substituted for vectorized operations.</li>
<li>Give looping variables an intuitive name. The letter i is often associated with looping variables. If you are looping across participants, calling the looping variable subi or sub_i makes it clear what is happening.</li>
<li>Add a comment to each end statement to make it clear which statement it is ending.</li>
</ul>
<p>Although if statements and for loops will be the control statements you use the most, some knowledge of the other three control statements available in MATLAB is valuable, and will be useful in certain situations.</p>
<h2 id="while-statements">While statements</h2>
<p>While loops are similar to for loops, and usually either can be used to accomplish the same task. The main differences is that in a for-loop you specify how many iterations to run through. A while loop will keep going until you tell it to stop</p>
<pre><code class="language-matlab">
i = 0

while true
    i = i + 1;
    disp(['Give me ' num2str(i) 'X more MATLAB!'])
end
</code></pre>
<p>This while loop will go on forever, because we have not told it when to stop. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you have just ran this code, how would you get this process to stop? Pressing CTRL + C while focused on the Command Window will break the current operation and return control tou you.</p>
</div>
<p>Because of this behavior, whenever we write a while loop we are going to need to specify a conditon under which the loop will end. We can achieve this with a "logical toggle" and include an if statement inside our while loop:</p>
<pre><code class="language-matlab">
% Generate a random number

r = 50 * rand * 50;

% Set the logical toggle to true

toggle = true

while toggle

    % While toggle = true

    r = r / 1.1;

    % Condition in which to end loop

    if r &lt; 1
        toggle = false;
    end

    disp(['Current value is ' num2str(r)])

end
</code></pre>
<p>In this code we are first generating a number number. We when set the initial state of the toggle to be true. Inside the while loop, the code will keep evaluating until r &lt; 1, which then switches the toggle to false, and thus ends the while loop.</p>
<p>In general for loops and while loops can be used to achieve the same thing. The main factor when considering which one to use is whether you know how many iterations you want. If you do (for example, you know how many participants are in your data), a for loop is preferred. If the number of iterations are not known, you will need to use a while loop.</p>
<h3 id="avoid-loops-whenever-possible">Avoid loops whenever possible</h3>
<p>As a brief aside, when you are coding you should always be looking for ways to avoid using for/while loops. For one, they are more confusing to read and increase the risk of errors entering the analysis. Second, loops will take longer than a vectorized alternative:</p>
<pre><code class="language-matlab">
p = zeros(1, 1000000); % Initialize a 1 x 1 million array

% Loop approach

tic

for i = 1:length(p)

    p(i) = i ^ 3;

end

toc

% Vectorized approach

tic

p3 = 1(1:1000000) . ^ 3;

toc

</code></pre>
<p>The tic and toc commands time how long it takes to evaulate the code between tic and toc. See how when we run the for-loop it takes around 100ms to evaluate. When we perform the same calculation without a for loop, it only takes around 10ms. As such the for loop took 10 times as long to evaluate as the vectorized statement! Although 10 vs 100ms doesn't seem like much, these timing differences really add up over a long analysis with processes that might take seconds or minutes to complete.</p>
<p>Like many things, for loops play a very important part of MATLAB programming and you will definitely need to use them in your analysis. This example just illustrates that they can be misued, and you should be mindful of that when programming.</p>
<h2 id="try-catch-statements">Try-catch statements</h2>
<p>This control statement can be translated as: try this, and if that doesn't work, do this instead. In a try-catch statement, MATLAB tries to run the code between <em>try</em> and <em>catch</em>. If it works, all code between catch and end is ignored. If it doesn't work however, MATLAB will note the error and instead try to run the code between <em>catch</em> and <em>end</em>:</p>
<pre><code class="language-matlab">
% Create a variable with two elements

e = [1 4];

try

    % This will cause an error
    if e(3) &gt; 3
        disp('e(3) is bigger than 3')
    end

catch me

    if e(2) &gt; 3
        disp('e(2) is gibber than 3')
    end

end

</code></pre>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>By now you should be able to figure out why the try catch part of the statement will cause an error. If not, here is a hint: Inspect the size of e, and then recall what we learned about indexing.</p>
</div>
<p>In this code, the if statement between try and catch will cause an error, and so instead the catch end statement is evaulated instead. MATLAB will be helpful here, and put information about the error in variable <em>me</em> (this variable can be called anything you like, but me is common shorthand for Matlab Exception). As such, debugging difficult errors is the primary use of try-catch statements. </p>
<p>A word of warning though. Do not use try catch statements as a way to write error-free code. Although errors are a huge source of frustration, they are helpful i ntelling you something is wrong! Placing error-ridden code inside a try-catch will not produce any errors, but your analysis will still be wrong.</p>
<h2 id="switch-case-statements">Switch-case statements</h2>
<p>This is the final in-built control statement, and I have yet to find a unique use for it. A switch-case statement provides something very similar to an if statement. <em>switch</em> holds the conditional statement 'in mind' and then tests whether that statement matches the various <em>case</em>s. <em>otherwise</em> works the same as an else statement:</p>
<pre><code class="language-matlab">
sleepStage = 'n2';

switch sleepstage
    case 'n2'
        disp('N2 sleep')
    case 'n3'
        disp('N3 sleep')
    otherwise
        disp('REM sleep')
end
</code></pre>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>How would you perform this switch-case statement as an if-else statement? Hint, use the help function to look up <em>strcmp</em></p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>