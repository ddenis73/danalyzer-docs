
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Dan Denis">
      
      
        <link rel="canonical" href="https://github.com/ddenis73/danalyzer-docs/matlab-functions/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>Functions - danalyzer documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-purple">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="danalyzer documentation" class="md-header__button md-logo" aria-label="danalyzer documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            danalyzer documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Functions
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ddenis73/danalyzer-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ddenis73/danalyzer-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="danalyzer documentation" class="md-nav__button md-logo" aria-label="danalyzer documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    danalyzer documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ddenis73/danalyzer-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ddenis73/danalyzer-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gui-tutorial/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        GUI
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="GUI" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          GUI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-load-data/" class="md-nav__link">
        Loading data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-data-browser/" class="md-nav__link">
        Data browsing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-sleep-scoring/" class="md-nav__link">
        Sleep scoring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-sleep-statistics/" class="md-nav__link">
        Sleep statistics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-reliability/" class="md-nav__link">
        Sleep scorer reliability
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-artifact-rejection.md" class="md-nav__link">
        Artifact rejection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-segment-marker.md" class="md-nav__link">
        Marking segments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-event-marker.md" class="md-nav__link">
        Custom notations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-channel-properties.md" class="md-nav__link">
        Channel properties
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-subset-data.md" class="md-nav__link">
        Subsetting data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-save-data.md" class="md-nav__link">
        Saving data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-montage/" class="md-nav__link">
        Montage creation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-file-formats/" class="md-nav__link">
        File format information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-import-export.md" class="md-nav__link">
        Import/export different file types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../gui-command-window.md" class="md-nav__link">
        Calling danalyzer from command window
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-functions" class="md-nav__link">
    Using functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-inputs-and-outputs" class="md-nav__link">
    Multiple inputs and outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inputs-as-outputs" class="md-nav__link">
    Inputs as outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-functions" class="md-nav__link">
    Writing functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-function-to-calculate-standard-error" class="md-nav__link">
    Create a function to calculate standard error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    Debugging
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ddenis73/danalyzer-docs/edit/master/docs/matlab-functions.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="functions">Functions</h1>
<p>We have already talked about using the Editor to write scripts. A function is essentially the same thing as a script, except it gets modified less often and works inside its own workspace. All functions have a name and most need to be supplied an input. In exchange, the function returns one or more outputs to you.</p>
<p>We have already seen several functions. For example, the function <em>mean</em> takes a set of numbers as an input, and gives you the average of those numbers as the output. In general, functions all follow the following syntax:</p>
<pre><code class="language-matlab">
output = functionname(input);

</code></pre>
<h2 id="using-functions">Using functions</h2>
<p>Let's try working with a few different functions. To do this, we will need to create some data to work with. The function <em>randn</em> will generate a matrix of random numbers drawn from a normal distribution for us:</p>
<pre><code class="language-matlab">
data = randn(25, 1);

</code></pre>
<p>Let us consider this line of code. The function name is <em>randn</em>. Then, inside the parentheses we provide our input arguments. We are providing the function with two input arguments, with each input separated by a comma. In this case, the function will return a matrix with 25 rows and one column. By using the = sign, we are assigning that output to the variable named data. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Don't forget that if you need more information about what a function does or what input it needs, always try:</p>
<p><code>help functionname</code></p>
</div>
<p>Ok now that we have our data, let's try using some more functions to get some information about the variable data. Remember, for each function we need to provide an input and assign a veraible to the output. In all these cases, we are going to use the variable <em>data</em> as our input:</p>
<pre><code class="language-matlab">
% Get the size of each dimension of the input. Very useful when debugging

sizeData = size(data);

% Find the minimum value of data

minData = min(data);

% Find the maximum value of data

maxData = max(data);

% Find the median of data

medData = max(data);

% Find the standard deviation of data

stdData = std(data);

</code></pre>
<h2 id="multiple-inputs-and-outputs">Multiple inputs and outputs</h2>
<p>In the above examples, we gave each function one input, and returned a single output. This is not always the case however, and most functions can take more than one input argument, and can return more than one output. </p>
<p>We already had an example of providing a function with two inputs when we generated our data, but let's look at another one. When we used the function <em>size</em>, the output gave us the size of each dimension. If we only wanted to know the size of say, the second dimension, we can do that by providing the dimension number as a second input to size:</p>
<pre><code class="language-matlab">
colSizeData = size(data, 2);

</code></pre>
<p>As well as multiple inputs, many functions can return multiple outputs as well. Multiple outputs are separated by commas and contained in square brackets. <em>max</em> is just one example of function with more than output:</p>
<pre><code class="language-matlab">
[val, idx] = max(data);

</code></pre>
<p>Here we have gotten two outputs from max. <em>val</em> is the same that we got when we ran <em>max</em> previously i.e. it is the value of the highest number in <em>data</em>. But what if you didn't want to know just what the maximum value is, but its position in the matrix? This is what the second output of max tells you. You can confirm that by entering <em>data</em> into the command window and manually checking the position of the largest value.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Try using your indexing skills to retrive the value of the higher number in data, using the idx output of the previous command.</p>
</div>
<h2 id="inputs-as-outputs">Inputs as outputs</h2>
<p>The ouput of one function can be used as the input of another. This can save us space when writing code. For example, if we wanted to create a new variable of random numbers that is the same size as <em>data</em> we could write:</p>
<pre><code class="language-matlab">
sizeData = size(data);
data2 = randn(sizeData);

</code></pre>
<p>Alternatively, we could write:</p>
<pre><code class="language-matlab">
data2 = randn( size(data) );

</code></pre>
<p>Here the output of size is being directly fed into the input of randn. This means there is no need to create a new variable called <em>sizeData</em> and take up an extra line of code. While this approach is useful for writing consise code, some consideration are needed. First, you can only use the first output of a function as an input for another. If you wanted to use the second or third output of a function you would need to create an intermediate variable first. Second, it is possible to embed functions in this manner as many time as you want and need. For example:</p>
<pre><code class="language-matlab">
a = max(randn(size(data)));

</code></pre>
<p>Here we are now not only using the output of <em>size</em> as the input of <em>randn</em>, we are then taking the output of randn and feeding it to the input the of <em>max</em>. When reading code like this, remember that the operations are heppening from the inside out. The inner most function is being evalulated first, followed by the function immediately to its left, and so on. As you add more and more functions this way, keep readability in mind! If you are more than three variables deep, you might want to consider breaking the code up into multiple steps.</p>
<h2 id="writing-functions">Writing functions</h2>
<p>Functions are just text files with a .m extension, the same as a script. In the command window type:</p>
<pre><code class="language-matlab">
edit mean

</code></pre>
<p>to open the function mean in the editor. You will notice right at the top of the file the main difference between how a script and a function is formatted. the word <em>function</em> right at the start is telling MATLAB this is a function. After that the output(s), function name, and input(s) are specified. All of the commented text underneath the function definition are what gets printed out when you type <em>help mean</em>. After that comes the function code itself.</p>
<p>You can write your own functions! Before you do, you should think about whether it is a good idea or not. Writing too many functions can cause problems with debugging, as it becomes harder and harder to figure out and remember what functions do, what variables are hard coded within functions etc. It also makes sharing code more difficult, because you will need to share all the functions you wrote in addition to your main script.</p>
<p>A good reason to create your own function is if you have pieces of code that you find yourself needing over and over again. Rather than copy-pasting that code each time, you could write a function that you save on your MATLAB path. As an example, when I am analyzing data I frequently need to create a list of folders that contain each participant's data. Here is the code to do that:</p>
<pre><code class="language-matlab">
startFolder = 'root folder';
subList     = dir(startFolder);
isItAFolder = [subList(:).isdir];
subList     = {subList(isItAfolder).name}';
subList(ismember(subList,{'.', '..'})) = [];

</code></pre>
<p>This is five lines of code that I was using in almost all of my analysis scripts. As such I decided to write my own function called <em>generatesublist</em>:</p>
<pre><code class="language-matlab">
function subList = generatesublist(startFolder)
% Generate a list of subject folders contained within startFolder

subList     = dir(startFolder);
isItAFolder = [subList(:).isdir];
subList     = {subList(isItAfolder).name}';
subList(ismember(subList,{'.', '..'})) = [];

</code></pre>
<p>This means now when I want to create a list of folders, I just need to write:</p>
<pre><code class="language-matlab">
% Create a list of participant folders

subList = generatesublist('root folder');

</code></pre>
<p>Much better! And by giving the function a helpful name and comment, it should be very clear to others what that custom function does.</p>
<h2 id="create-a-function-to-calculate-standard-error">Create a function to calculate standard error</h2>
<p>So let's try writing our own function. A common statistic we use in data analysis is the standard error. Unfortunately however MATLAB does not provide an in-built function to calculate standard error. So let's do it ourselves. First, here is the equation for calculating standard error:</p>
<p><img align="centre" alt="se" src="../img/se_equation.png" style="height:200px" /></p>
<p>We want to write a MATLAB function to perform that equation on a variable:</p>
<pre><code class="language-matlab">
output = standarderror(input);

</code></pre>
<p>To start, we will open a new file in the editor. In the very first line we will specifiy this is a function, and then assign the function name, input, and output. You call these input and output variables whatever you like:</p>
<pre><code class="language-matlab">
function y = standarderror(x)

</code></pre>
<p>Underneath that, we are going to want to explain what our function does, so that when users type <em>help standarderror</em> they can understand how to use the function:</p>
<pre><code class="language-matlab">
% Compute the standard error on input data
%
% Required input:
%
% x = A 1D numeric variable
%
% Output:
%
% y = The standard error
%
% Code written by:&lt;your name here&gt;

</code></pre>
<p>Now save the file. The function file name should have the exact same name as the name of the function. Make sure you save it to the path. Now, try typing help standarderror into the command window. MATLAB should now print out the help file you just created.</p>
<p>Ok, so now we need to write the code itself. The first thing we need to do is to calculate the standard deviation of our input:</p>
<pre><code class="language-matlab">
% Calculate the standard deviation

xSTD = std(x);

</code></pre>
<p>Now we need to find out how many 'samples' are in our input data. This will correspond to the number of elements of the variable. We can find the number of elements in the longest dimension by using the function length:</p>
<pre><code class="language-matlab">
% Length of the input

xLength = length(x);

</code></pre>
<p>Now we need to calculate the square root of the number of samples. Again, MATLAB has an in-built function for that:</p>
<pre><code class="language-matlab">
% Square root of the number of samples

xSQRT = sqrt(xLength);

</code></pre>
<p>So now we have calculated all of our component parts, we can perform the equation:</p>
<pre><code class="language-matlab">
% Calculate standard error

y = xSTD / xSQRT;

</code></pre>
<p>This is what the whole function looks like:</p>
<pre><code class="language-matlab">
function y = standarderror(x)
% Compute the standard error on input data
%
% Required input:
%
% x = A 1D numeric variable
%
% Output:
%
% y = The standard error
%
% Code written by:&lt;your name here&gt;

% Calculate the standard deviation

xSTD = std(x);

% Length of the input

xLength = length(x);

% Square root of the number of samples

xSQRT = sqrt(xLength);

% Calculate standard error

y = xSTD / xSQRT;

</code></pre>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>It took use four lines of code to calculate the standard error. Use your knowledge of inputs as outputs to shorten the function to just one line.</p>
</div>
<p>Save your function again, we are now going to try running it on the random data we generated earier:</p>
<pre><code class="language-matlab">
seData = standarderror(data);

</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Take a look at your workspace. You will notice that none of the variables that we created in the function are in the workspace. This is because functions work within their own workspaces that cannot be accessed from the 'base' workspace. </p>
</div>
<h2 id="debugging">Debugging</h2>
<p>One last thing we need to know about functions is how to debug them. Debugging is an essential (and tedious) part of programming. Thankfully MATLAB provides some helpful debugging tools. If a function is broken, we will need to 'take a peek' inside the workings of that function to see what is wrong. Let's deliberately break our newly made standard error function:</p>
<pre><code class="language-matlab">
xSQRT = sqt(xLength);

</code></pre>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Why does this break the code?</p>
</div>
<p>Save the function and run it again. Of course, we know this will cause can error. Take a look at the error message, it tells us which line of the function the error occurred on. So let's use some debugging tools to fix this problem. Make sure our function is open in the editor. You will see that for each line of code, there is a little horizontal line to the left of the code alongside the line number. These are parts of the code where a breakpoint can be inserted. Click on the horizontal line at line 24, the line which is causing the error. Now run the function again.</p>
<p>This time, the function pauses at the line you put the breakpoint in. Take a look at the workspace, now we are 'in' the function workspace. You can navigate between workspaces by using the Function Call Stack menu in the toolbar. Now we are in the function's workspace we can try to diagnose and fix the error with our function. Thankfully the error is easy to fix this time (and in reality you probably would even need to use the debugger). Nevertheless, the principle is the same when you come across an error in your functions. Make sure to remove the breakpoint by clicking it again before you try to use the function again!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>An important part about writing your own functions is that they should be generalizable to different situations and datasets. Think about how you could generalize <em>standarderror</em> to work on 2D matrics, and how could you add a second input argument to instruct the function as to which dimension to work along?</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>